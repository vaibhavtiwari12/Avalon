(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t),c.d(t,"history",(function(){return C}));var n=c(1),a=c(15),o=c.n(a),r=(c(40),c(20)),i=(c(41),c(11)),s=c(58),j=c(65),d=c(59),l=c(60),O=c(61),b=c(62),u=c(63),h=c(9),f=c(2),x=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),x=r[0],g=r[1],p=Object(n.useState)(""),D=Object(i.a)(p,2),E=D[0],A=D[1],T=Object(n.useState)("PRISTINE"),v=Object(i.a)(T,2),I=v[0],R=v[1],_=Object(n.useState)("PRISTINE"),S=Object(i.a)(_,2),y=S[0],m=S[1],N=Object(n.useState)("PRISTINE"),P=Object(i.a)(N,2),L=P[0],C=P[1],V=Object(n.useState)(!1),B=Object(i.a)(V,2),H=B[0],w=B[1],F=Object(h.d)(),U=function(){a(""),g(""),A(""),w(!1),m("PRISTINE"),R("PRISTINE"),C("PRISTINE")};return Object(f.jsxs)(s.a,{onSubmit:function(e){return function(e){if(e.preventDefault(),"VALID"==I&&"VALID"==y&&"VALID"==L){console.log(c),console.log(x),console.log(E);var t={title:c,body:x,date:E};fetch("/mongo/add",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Res",e),F({type:"UPDATE_BLOG",data:{_id:e._id,title:e.title,body:e.body,date:e.date}}),U()}))}else w(!0)}(e)},children:[H&&Object(f.jsx)(j.a,{color:"danger",children:"FORM HAS AN ERROR"}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(l.a,{for:"title",children:"Title"}),Object(f.jsx)(O.a,{invalid:"INVALID"===I,name:"title",type:"text",value:c,onChange:function(e){return function(e){a(e.target.value),e.target.value.length<=0?R("INVALID"):R("VALID"),e.target.value&&x&&E&&w(!1)}(e)}}),Object(f.jsx)(b.a,{children:"Title is required."})]}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(l.a,{for:"body",children:"Body"}),Object(f.jsx)(O.a,{invalid:"INVALID"===y,name:"body",type:"text",value:x,onChange:function(e){return function(e){g(e.target.value),e.target.value.length<=0?m("INVALID"):m("VALID"),c&&e.target.value&&E&&w(!1)}(e)}}),Object(f.jsx)(b.a,{children:"Body is required"})]}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(l.a,{for:"Date",children:"Date"}),Object(f.jsx)(O.a,{invalid:"INVALID"===L,name:"Date",type:"Date",value:E,onChange:function(e){return function(e){A(e.target.value),e.target.value.length<=0?C("INVALID"):C("VALID"),c&&x&&e.target.value&&w(!1)}(e)}}),Object(f.jsx)(b.a,{children:"Date is required"})]}),Object(f.jsx)(u.a,{type:"submit",color:"primary",children:"Add Post"}),Object(f.jsx)(u.a,{type:"reset",color:"danger",className:"ms-1",onClick:U,children:"Reset"})]})},g=c(64),p=function(){var e=Object(h.e)((function(e){return e.BlogReducer})),t=Object(h.d)(),c=e.posts,a=function(){fetch("/mongo/get").then((function(e){return e.json()})).then((function(e){console.log(e),t({type:"ADD_BLOGS",data:e})}))};Object(n.useEffect)((function(){a()}),[]);return Object(f.jsx)("div",{children:Object(f.jsxs)(g.a,{striped:!0,size:"lg",className:"",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"ID"}),Object(f.jsx)("th",{children:"Title"}),Object(f.jsx)("th",{children:"Body"}),Object(f.jsx)("th",{children:"Date"}),Object(f.jsx)("th",{children:"Action"})]})}),Object(f.jsx)("tbody",{children:c.length>0&&c.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e._id}),Object(f.jsx)("td",{children:e.title}),Object(f.jsx)("td",{children:e.body}),Object(f.jsx)("td",{children:e.date}),Object(f.jsx)("td",{children:Object(f.jsx)(u.a,{color:"danger",size:"sm",onClick:function(){return t=e._id,void fetch("/mongo/delete/".concat(t)).then((function(){a()}));var t},children:"Delete"})})]},e._id)}))})]})})},D=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(j.a,{color:"primary",children:Object(f.jsx)("h1",{className:"text-center",children:" Vaibhav's Blog"})}),Object(f.jsx)(x,{}),Object(f.jsx)(p,{})]})},E=function(e){return Object(f.jsx)("div",{children:"HEADER"})},A=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(h.d)(),r=Object(h.e)((function(e){return e.fetchDataReducer}));return Object(n.useEffect)((function(){fetch("/api/getName").then((function(e){return e.json()})).then((function(e){a(e.message),console.log("Process ENV",Object({NODE_ENV:"production",PUBLIC_URL:"ec2-3-136-18-168.us-east-2.compute.amazonaws.com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOMEPAGE_URL:"http://localhost:${REACT_PORT}",REACT_APP_PROXY_URL:"http://localhost:${NODE_PORT}"})),fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).then((function(e){o({type:"FETCH_DATA",data:e})})).catch((function(e){o({type:"FETCH_DATA_ERROR",data:e})})),console.log(r)}))}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:'API CALL to Node/Express Backend. You see " hello from API if connected." '}),Object(f.jsxs)("div",{children:[" ",c||"No Message received."]}),Object(f.jsx)("br",{}),"      ",Object(f.jsx)("br",{}),"      ",Object(f.jsx)("br",{}),Object(f.jsx)("h2",{children:"REDUX STORE WITH THUNK MIDDLEWARE - you see data below if working"}),r.data?Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"ID:"})," ",r.data.id]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Title: "}),r.data.title]})]}):Object(f.jsx)("div",{style:{color:"red"},children:"Error occured while fetching the data"})]})};var T=function(){return Object(f.jsxs)(r.c,{children:[Object(f.jsx)(r.a,{exact:!0,path:"/",component:A}),Object(f.jsx)(r.a,{exact:!0,path:"/Header",component:E}),Object(f.jsx)(r.a,{exact:!0,path:"/Blog",component:D})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),o(e),r(e)}))},I=(c(54),c(17)),R=c(34),_=c(12),S=c(33),y=c(21),m=c(13),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":return Object(m.a)(Object(m.a)({},e),{},{data:t.data});case"FETCH_DATA_ERROR":return Object(m.a)(Object(m.a)({},e),{},{data:""});default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BLOG":return console.log("ACTION.DATA",t.data),Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.concat(t.data)});case"ADD_BLOGS":return Object(m.a)(Object(m.a)({},e),{},{posts:t.data});default:return e}},L=function(e){return Object(I.b)({router:Object(y.b)(e),fetchDataReducer:N,BlogReducer:P})},C=Object(_.a)(),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,B=Object(I.d)(L(C),V(Object(I.a)(R.a,Object(S.a)(C))));o.a.render(Object(f.jsx)(h.a,{store:B,children:Object(f.jsx)(y.a,{history:C,children:Object(f.jsx)(T,{})})}),document.getElementById("root")),v()}},[[56,1,2]]]);
//# sourceMappingURL=main.db5de31d.chunk.js.map